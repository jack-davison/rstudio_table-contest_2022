{"title":"Comparative Increase of White and Black Population in Georgia.","markdown":{"yaml":{"title":"Comparative Increase of White and Black Population in Georgia."},"headingText":"Table","containsRefs":false,"markdown":"\n\nThis plate shows the comparative increase of the white and black population of Georgia. It is interesting in that it is quite a straightforward time series, but the time axis is shown on the y-axis rather than the more typical x-axis. \n\nThis gave me some pause; on an x-axis, we are used to time flowing \"forward\", left-to-right, but what is the best direction on a y-axis? Typically values increase as you go *up* a y-axis (DuBois' choice), but instinctively I expect dates to increase as you go *down* as you often see in tables. My first instinct was to read the plot top-to-bottom, which was actually going *back* in time. I was also taken aback that the x-axis was reversed --- starting at 100% and ending at 0%. Regardless of DuBois' intention, this unusual 'rotated' graph demands careful attention.\n\nTo recreate this visualisation as a table, I created plots for each row which showed a dot for each of the two races shown in DuBois' original graph. When viewed as a whole, the image of the original plate is revealed, including the reversed x-axis and ascending dates.\n\nA `{gt}` trick I used was adding unicode characters to the column labels to act as a pseudo-legend. This should allow readers to identify what the dots actually represent.\n\n::: {.panel-tabset}\n\n\n```{r, ref.label=c('georgiaPopCode')}\n#| label: georgiaPopTbl\n#| echo: false\n```\n\n# Original\n\n![](https://raw.githubusercontent.com/ajstarks/dubois-data-portraits/master/challenge/challenge01/original-plate-07.jpg)\n\n# Code\n\n```{r}\n#| label: georgiaPopCode\n#| eval: false\nlibrary(tidyverse)\nlibrary(gt)\n\n# read data\ngeorgia_pop <-\n  readr::read_csv(\n    'https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2021/2021-02-16/georgia_pop.csv'\n  ) |>\n  # descending \"Year\"\n  arrange(desc(Year)) |>\n  # language\n  rename(Black = Colored)\n\n# function to create plots\nplot_dots <- function(data) {\n  # only label 0, 50 and 100\n  labs <- tibble(y = rep(\"\", 3), x = c(0, 50, 100))\n  \n  # create plot\n  plt <-\n    data |>\n    ggplot(aes(y = \"\")) +\n    geom_vline(xintercept = seq(0, 100, 10), color = \"red\") +\n    theme_void() +\n    expand_limits(x = c(0, 100)) +\n    scale_x_reverse() # reverse x-axis\n  \n  # only add labels to the first and last years\n  if (data$Year %in% c(1790, 1890)) {\n    plt <-\n      plt + geom_text(\n        inherit.aes = FALSE,\n        data = labs,\n        aes(x, y, label = x),\n        size = 27.5\n      )\n  }\n  \n  # add points\n  plt +\n    geom_point(aes(x = Black), size = 35) +\n    geom_point(\n      aes(x = White),\n      fill = \"white\",\n      stroke = 4,\n      shape = 21,\n      size = 35\n    )\n  \n}\n\n# use function to create plots\nplots <- georgia_pop |>\n  group_split(Year) |>\n  map(plot_dots)\n\n# create table\ngeorgia_pop |>\n  mutate(dots = NA) |>\n  gt() |>\n  gtExtras::gt_theme_538() |>\n  fmt_percent(Black:White, scale_values = F, decimals = 0) |>\n  tab_header(toupper(\"Comparative Increase of White and Black Population in Georgia.\")) |>\n  # dropping padding makes plots look better\n  tab_options(data_row.padding = 0, heading.align = \"center\") |> \n  cols_width(dots ~ px(250),\n             Year:White ~ px(80)) |>\n  # use of unicode to create \"legend\"\n  cols_label(\n    dots = \"\",\n    Black = html(\"<div style='font-size:2.5em'>&#8226</div>Black\"),\n    White = html(\"<div style='font-size:2.5em'>&#9702</div>White\")\n  ) |>\n  cols_align(\"center\") |>\n  # add plots\n  text_transform(cells_body(columns = dots),\n                 function(x) {\n                   ggplot_image(rev(plots), height = px(35), aspect_ratio = 6)\n                 })\n```\n\n:::"},"formats":{"html":{"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":"auto","echo":true,"output":true,"warning":false,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"message":false,"engine":"knitr"},"render":{"keep-tex":false,"keep-yaml":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":true,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../../styles.css"],"toc":false,"output-file":"georgia_pop.html"},"language":{},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.1.189","theme":"cosmo","title":"Comparative Increase of White and Black Population in Georgia."},"extensions":{"book":{"multiFile":true}}}}}